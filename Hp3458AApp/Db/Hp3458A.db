#
# Substititions
#   $(sys):$(dev)- PV name prefix
#   $(L)         - Link number (e.g. 1)
#   $(A)         - GPIB address (e.g. 3)
#   $(amps/volt) - Calibration factr (e.g. 60)
#   $(maxI)      - Maximum current (e.g. 600)
#
record(ai, "$(sys):$(dev)inputAI") {
    field(DESC, "")
    field(ASG, "")
    field(SCAN, "1 second")
    field(PINI, "NO")
    field(PHAS, "0")
    field(EVNT, "0")
    field(TSEL, "0")
    field(DTYP, "HP3458A (GPIB)")
    field(DISV, "0")
    field(SDIS, "$(sys):$(dev)scanContBO")
    field(DISS, "NO_ALARM")
    field(PRIO, "LOW")
    field(FLNK, "$(sys):$(dev)CurrentCALC")
    field(INP, "#L$(L) A$(A) @1")
    field(PREC, "7")
    field(LINR, "NO CONVERSION")
    field(EGUF, "0")
    field(EGUL, "0")
    field(EGU, "Volts")
    field(HOPR, "10")
    field(LOPR, "0")
    field(AOFF, "0")
    field(ASLO, "1")
    field(SMOO, "0")
    field(HIHI, "10")
    field(LOLO, "0")
    field(HIGH, "10")
    field(LOW, "0")
    field(HHSV, "NO_ALARM")
    field(LLSV, "NO_ALARM")
    field(HSV, "NO_ALARM")
    field(LSV, "NO_ALARM")
    field(HYST, "0")
    field(ADEL, "0")
    field(MDEL, "0")
    field(SIOL, "0")
    field(SIML, "0")
    field(SIMS, "NO_ALARM")
}
record(calc,$(sys):$(dev)CurrentCALC) {
    field(DESC,"")
    field(SCAN,"Passive")
    field(PINI,"NO")
    field(PHAS,"0")
    field(EVNT,"0")
    field(DISV,"1")
    field(SDIS,"0")
    field(DISS,"NO_ALARM")
    field(PRIO,"LOW")
    field(FLNK,"0")
    field(CALC,"A*$(amps/volt)")
    field(INPA,"$(sys):$(dev)inputAI.VAL NPP NMS")
    field(EGU,"Amps")
    field(PREC,"6")
    field(HOPR,"$(maxI)")
    field(LOPR,"0")
    field(HIHI,"$(maxI)")
    field(LOLO,"0")
    field(HIGH,"$(maxI)")
    field(LOW,"0")
    field(HHSV,"NO_ALARM")
    field(LLSV,"NO_ALARM")
    field(HSV,"NO_ALARM")
    field(LSV,"NO_ALARM")
    field(HYST,"0")
    field(ADEL,"0")
    field(MDEL,"0")
}
record(bo, "$(sys):$(dev)scanContBO") {
    field(DESC, "")
    field(ASG, "")
    field(SCAN, "Passive")
    field(PINI, "NO")
    field(PHAS, "0")
    field(EVNT, "0")
    field(TSEL, "0")
    field(DTYP, "Soft Channel")
    field(DISV, "1")
    field(SDIS, "0")
    field(DISS, "NO_ALARM")
    field(PRIO, "LOW")
    field(FLNK, "0")
    field(OMSL, "supervisory")
    field(DOL, "0")
    field(OUT, "0")
    field(HIGH, "0")
    field(ZNAM, "Local")
    field(ONAM, "Remote")
    field(ZSV, "NO_ALARM")
    field(OSV, "NO_ALARM")
    field(COSV, "NO_ALARM")
    field(SIOL, "0")
    field(SIML, "0")
    field(SIMS, "NO_ALARM")
    field(IVOA, "Continue normally")
    field(IVOV, "0")
}
record(bo, "$(sys):$(dev)beepBO") {
    field(DESC, "")
    field(ASG, "")
    field(SCAN, "Passive")
    field(PINI, "NO")
    field(PHAS, "0")
    field(EVNT, "0")
    field(TSEL, "0")
    field(DTYP, "HP3458A (GPIB)")
    field(DISV, "1")
    field(SDIS, "0")
    field(DISS, "NO_ALARM")
    field(PRIO, "LOW")
    field(FLNK, "0")
    field(OMSL, "supervisory")
    field(DOL, "0")
    field(OUT, "#L$(L) A$(A) @12")
    field(HIGH, "0")
    field(ZNAM, "")
    field(ONAM, "")
    field(ZSV, "NO_ALARM")
    field(OSV, "NO_ALARM")
    field(COSV, "NO_ALARM")
    field(SIOL, "0")
    field(SIML, "0")
    field(SIMS, "NO_ALARM")
    field(IVOA, "Continue normally")
    field(IVOV, "0")
}
record(mbbo, "$(sys):$(dev)EOIcontMO") {
    field(DESC, "")
    field(ASG, "")
    field(SCAN, "Passive")
    field(PINI, "NO")
    field(PHAS, "0")
    field(EVNT, "0")
    field(TSEL, "0")
    field(DTYP, "HP3458A (GPIB)")
    field(DISV, "1")
    field(SDIS, "0")
    field(DISS, "NO_ALARM")
    field(PRIO, "LOW")
    field(FLNK, "0")
    field(DOL, "0")
    field(OMSL, "supervisory")
    field(NOBT, "0")
    field(OUT, "#L$(L) A$(A) @7")
    field(ZRVL, "0x0")
    field(ONVL, "0x0")
    field(TWVL, "0x0")
    field(THVL, "0x0")
    field(FRVL, "0x0")
    field(FVVL, "0x0")
    field(SXVL, "0x0")
    field(SVVL, "0x0")
    field(EIVL, "0x0")
    field(NIVL, "0x0")
    field(TEVL, "0x0")
    field(ELVL, "0x0")
    field(TVVL, "0x0")
    field(TTVL, "0x0")
    field(FTVL, "0x0")
    field(FFVL, "0x0")
    field(ZRST, "")
    field(ONST, "")
    field(TWST, "")
    field(THST, "")
    field(FRST, "")
    field(FVST, "")
    field(SXST, "")
    field(SVST, "")
    field(EIST, "")
    field(NIST, "")
    field(TEST, "")
    field(ELST, "")
    field(TVST, "")
    field(TTST, "")
    field(FTST, "")
    field(FFST, "")
    field(ZRSV, "NO_ALARM")
    field(ONSV, "NO_ALARM")
    field(TWSV, "NO_ALARM")
    field(THSV, "NO_ALARM")
    field(FRSV, "NO_ALARM")
    field(FVSV, "NO_ALARM")
    field(SXSV, "NO_ALARM")
    field(SVSV, "NO_ALARM")
    field(EISV, "NO_ALARM")
    field(NISV, "NO_ALARM")
    field(TESV, "NO_ALARM")
    field(ELSV, "NO_ALARM")
    field(TVSV, "NO_ALARM")
    field(TTSV, "NO_ALARM")
    field(FTSV, "NO_ALARM")
    field(FFSV, "NO_ALARM")
    field(UNSV, "NO_ALARM")
    field(COSV, "NO_ALARM")
    field(SIOL, "0")
    field(SIML, "0")
    field(SIMS, "NO_ALARM")
    field(IVOA, "Continue normally")
    field(IVOV, "0")
}
record(seq, "$(sys):$(dev)startUpSQ") {
    field(DESC, "")
    field(ASG, "")
    field(SCAN, "Passive")
    field(PINI, "YES")
    field(PHAS, "0")
    field(EVNT, "0")
    field(TSEL, "0")
    field(DISV, "1")
    field(SDIS, "0")
    field(DISS, "NO_ALARM")
    field(PRIO, "LOW")
    field(FLNK, "0")
    field(SELM, "All")
    field(SELL, "0")
    field(PREC, "0")
    field(DLY1, "0")
    field(DOL1, "2")
    field(LNK1, "$(sys):$(dev)EOIcontMO.VAL PP NMS")
    field(DLY2, "0")
    field(DOL2, "1")
    field(LNK2, "$(sys):$(dev)scanContBO.VAL PP NMS")
    field(DLY3, "0")
    field(DOL3, "0")
    field(LNK3, "$(sys):$(dev)beepBO.VAL PP NMS")
    field(DLY4, "0")
    field(DOL4, "0")
    field(LNK4, "0")
    field(DLY5, "0")
    field(DOL5, "0")
    field(LNK5, "0")
    field(DLY6, "0")
    field(DOL6, "0")
    field(LNK6, "0")
    field(DLY7, "0")
    field(DOL7, "0")
    field(LNK7, "0")
    field(DLY8, "0")
    field(DOL8, "0")
    field(LNK8, "0")
    field(DLY9, "0")
    field(DOL9, "0")
    field(LNK9, "0")
    field(DLYA, "0")
    field(DOLA, "0")
    field(LNKA, "0")
}
